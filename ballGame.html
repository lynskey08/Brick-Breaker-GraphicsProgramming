<!DOCTYPE html>

<html>

  <head>
    <meta charset="UTF-8">
    <title>Canvas</title>

    <style type="text/css">
      body {
          background-color: white;
      }
      /*Creates canvas with black border in the center*/
      canvas{
         display: block;
         position: absolute;
         margin: auto;
         border: 1px solid black;
      }
    </style>

  </head>

  <body>

    
    <canvas id="Canvas" height="550" width="1000"></canvas>

    <script type="text/javascript">

      // Gets a handle to the element with id canvasOne.
      var canvas = document.getElementById("Canvas");
      // Get a 2D context for the canvas.
      var ctx = canvas.getContext("2d");
       
      //ball variables
      var x = canvas.width/2;
      var y = canvas.height-30;
      var r = 10;
      var velocityX = 3;
      var velocityY = 3;
      
        
      var paddle = {
            position: {
                x: 530,
                y: 490
            },
            size: {
                w: 120,
                h: 20
            },
            //Draw the paddle function
            drawPaddle: function(){ 
                //ctx.beginPath();
              ctx.fillRect(paddle.position.y, paddle.position.x, paddle.size.w, paddle.size.h);
                //ctx.closePath();
            }
        }
      /*  
      var paddle = {
         position: {x: 50, y: 10}
        , paddleW = 100;//paddle width
        , paddleH = 15;//paddle height
        , paddleX = (canvas.width - paddleW)/2;
        , drawPaddle: function() {
              ctx.beginPath();
              ctx.fillRect(paddleX, canvas.height-paddleH, paddleW, paddleH);
              ctx.closePath();
          } 
      }
      */
       
      /*
      //paddle variables
      var paddleW = 100;//paddle width
      var paddleH = 15;//paddle height
      var paddleX = (canvas.width - paddleW)/2;
       */ 
        
      //Arrow Control Key variables
      var leftArrowKey = false;
      var rightArrowKey = false;

      
      // Function to draw the ball
      function ball() { 
        ctx.beginPath();
        ctx.arc(x, y, r, 0, 2 * Math.PI);
        ctx.fill();//Makes the circle filled in
        ctx.closePath();
      }
      
    /*
      //Function to draw the paddle
      function paddle() {
          ctx.beginPath();
          ctx.fillRect(paddleX, canvas.height-paddleH, paddleW, paddleH);
          ctx.closePath();
      }
      */
        
      // A function to repeat every time the animation loops.
      function repeatme() {
        
        //This constantly updates the ball so it doesn't leave a single straight line
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        //canvas.width = canvas.width;  
        ball();//calls the ball function
        
        ctx.beginPath(); 
        paddle();//calls the paddle function
        ctx.closePath();

		// Stops the animation from leaving the canvas(collision decection).
        if (x + velocityX > canvas.width - r || x + velocityX < r) {
            velocityX =- velocityX;
        }    
        else if (y + velocityY > canvas.height - r || y + velocityY < r) {
            velocityY =- velocityY;
        }
          
        // Update the x and y coordinates of the ball to keep it moving.
		x += velocityX;
        y += velocityY;
          
        //Tells the browser you wish to perform an animation 
        //and requests the browser to call a specific function 
        //to update an animation before the next repaint
        //window.requestAnimationFrame(repeatme); 
          
        window.addEventListener('keydown', movePaddle, true);
      } 
      // Get the animation going.
      setInterval(repeatme, 10);
      
        
    </script>

  </body>

</html>
